# C++异常机制详解
## 异常的作用
1. 让程序中的异常情况不能被忽略；
2. 让对象能被正确的析构；（析构函数在两种情况下呗调用，第一种是生命周期结束或主动的析构，第二种是在异常发生后的栈展开时对栈中的完整对象调用其析构函数。
3. 让异常和错误处理代码远离业务逻辑代码；

## 异常安全的意义
1. 程序处于有效的业务状态；
2. 不发生资源泄露；
3. 不允许败坏数据；

## 异常安全的程度
根据这三点原则，异常安全的代码可以有三种程度的异常安全性：
1. 不抛出异常；
2. 强烈的异常安全保证（完成业务或者发生异常后恢复到业务开始时的状态；
3. 基本的异常安全保证（程序处于有效的业务状态）；

## 三种保证异常安全的方法
1. 在局部代码中使用智能对象管理资源；
2. 使用智能对象代替类的指针成员管理资源，避免在构造函数中发生资源泄露；
3. 避免异常离开析构函数，因为如果析构函数是在栈展开的时候被调用而又恰好发生了异常则会导致termnate函数被调用，程序终止；